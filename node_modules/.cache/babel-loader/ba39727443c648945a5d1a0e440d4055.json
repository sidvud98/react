{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthvudikavalasa/final/react/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./Register.css\";\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, selectUser } from \"./features/userSlice\";\nimport { login } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [useremail, setemail] = useState('');\n  const [userpassword, setpassword] = useState('');\n  const [load, setload] = useState(false);\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  useEffect(() => {\n    console.log(user);\n\n    if (user && user.loggedIn) {\n      navigate('/dashboard');\n      console.log(user, user.loggedIn);\n    }\n  }, []);\n\n  function clickfn(e) {\n    e.preventDefault();\n    setload(true);\n    axios.post('http://localhost:8000/api/users/login', {\n      email: useremail,\n      password: userpassword\n    }).then(function (response) {\n      setload(false);\n      dispatch(login({\n        userid: response.data.user.id,\n        name: response.data.user.name,\n        email: useremail,\n        password: userpassword,\n        loggedIn: true,\n        emailverification: true,\n        email_verified_at: response.data.user.email_verified_at,\n        role: response.data.user.role,\n        verifytoken: response.data.access_token\n      }));\n\n      if (response.data.user.email_verified_at !== null) {\n        navigate('/dashboard');\n      } else {\n        navigate('/emailverification');\n      }\n\n      ;\n    }).catch(error => {\n      setload(false);\n\n      if (error.response) {\n        if (error.response.data.error == 'Unauthorized') alert(\"Invalid Email or Password\");\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: clickfn,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => {\n            e.preventDefault();\n            const userEmail = e.target.value;\n            setemail(userEmail);\n          },\n          type: \"text\",\n          placeholder: \"Enter your email\",\n          value: useremail,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => {\n            e.preventDefault();\n            const userPassword = e.target.value;\n            setpassword(userPassword);\n          },\n          type: \"password\",\n          placeholder: \"Enter your Password\",\n          value: userpassword,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Forgot Password ? Click \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/requestpasswordreset\",\n          children: \"here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"0WJ0qLJ3Ixz+eTcSUv0OLOaBRWs=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Component","Link","useEffect","useState","axios","useDispatch","useSelector","logout","selectUser","login","useNavigate","Login","useremail","setemail","userpassword","setpassword","load","setload","user","dispatch","navigate","console","log","loggedIn","clickfn","e","preventDefault","post","email","password","then","response","userid","data","id","name","emailverification","email_verified_at","role","verifytoken","access_token","catch","error","alert","status","headers","request","message","userEmail","target","value","userPassword"],"sources":["/Users/siddharthvudikavalasa/final/react/src/Login.js"],"sourcesContent":["import React, { Component }  from 'react';\nimport {Link} from 'react-router-dom';\nimport \"./Register.css\";\nimport {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, selectUser } from \"./features/userSlice\";\nimport {login} from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nfunction Login() {\n    const [useremail,setemail]=useState('')\n    const [userpassword,setpassword]=useState('');\n    const [load, setload] = useState(false);\n    const user=useSelector(selectUser);\n    const dispatch=useDispatch();\n    let navigate = useNavigate();\n    useEffect(()=>{\n        console.log(user);\n        if(user && user.loggedIn){\n            navigate('/dashboard');\n            console.log(user,user.loggedIn);\n        }\n    },[])\n    function  clickfn(e){       \n   \n            e.preventDefault();\n            setload(true);\n         axios.post('http://localhost:8000/api/users/login',{\n             email:useremail,\n             password:userpassword,\n            })\n            .then(function (response) {\n                setload(false);\n             dispatch(login({\n                userid:response.data.user.id,\n                name:response.data.user.name,\n                email:useremail,\n                password:userpassword,\n                loggedIn:true,\n                emailverification:true,\n                email_verified_at:response.data.user.email_verified_at,\n                role:response.data.user.role,\n                verifytoken:response.data.access_token,\n            }))      \n        if(response.data.user.email_verified_at!==null){navigate('/dashboard')}\n        else{navigate('/emailverification')};       \n      })\n      .catch((error) => {\n        setload(false);\n        if (error.response) {\n            if(error.response.data.error=='Unauthorized') alert(\"Invalid Email or Password\");\n            console.log(error.response.status);\n            console.log(error.response.headers);\n        } else if (error.request) {\n            console.log(error.request);\n        } else {\n            console.log('Error', error.message);\n        }\n        \n    });\n    \n    }\n    return (\n        <div className=\"container\">\n      {load ? (\n        <div className=\"loader-container\">\n      \t  <div className=\"spinner\"></div>\n        </div>\n      ) : (\n    <div>\n        {/* <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRBNQyPCkUD1v_O6MJqR6i3MeDv5RBBIrsMQg&usqp=CAU\" /> */}\n        <img src=\"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png\" />\n        <form onSubmit={clickfn}>\n            <label><b>Email Address</b></label>\n            <input onChange={(e)=>{e.preventDefault();const userEmail=e.target.value; setemail(userEmail);}} type=\"text\" placeholder=\"Enter your email\" value={useremail} required/>\n            <br/>\n            <label><b>Password</b></label>\n            <input onChange={(e)=>{e.preventDefault();const userPassword=e.target.value;setpassword(userPassword);}} type=\"password\" placeholder=\"Enter your Password\" value={userpassword} required/>\n            <button type=\"submit\">Login</button>\n        </form>\n        \n        <p>Forgot Password ? Click <Link to=\"/requestpasswordreset\" >here</Link></p>      \n    </div>\n    )}\n    </div> \n    )\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}