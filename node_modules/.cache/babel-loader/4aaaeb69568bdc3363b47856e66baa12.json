{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthvudikavalasa/final/react/src/ChangePassword.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport \"./styles.css\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { selectUser } from \"./features/userSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChangePassword() {\n  _s();\n\n  let navigate = useNavigate();\n  const [oldpassword, setoldpasword] = useState('');\n  const [newpassword, setnewpasword] = useState('');\n  const [newconfpassword, setnewconfpassword] = useState('');\n  const user = useSelector(selectUser);\n\n  function clickfn(e) {\n    e.preventDefault();\n\n    if (oldpassword === newpassword) {\n      alert('Your new password should be different from old password');\n    } else if (newconfpassword !== newpassword) {\n      alert(\"New Passwords should match\");\n    } else {\n      axios.post('http://localhost:8000/password/change', {\n        password: oldpassword,\n        new_password: newpassword\n      }, {\n        headers: {\n          'Authorization': \"Bearer\" + user.verifytoken\n        }\n      }).then(function (response) {\n        if (response.data[0] === 'Your password has been successfully changed') {\n          alert(\"Your password has been changed.\");\n          navigate('/login');\n        }\n      }).catch(error => {\n        if (error.response) {\n          if (error.response.data[0] === 'Incorrect current password') {\n            alert(\"Old Password is incorrect\");\n          }\n\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          console.log(error.request);\n        } else {\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n      });\n    }\n  }\n\n  let xstylec = {\n    borderRadius: \"8px\"\n  };\n  let xstyler = {\n    backgroundColor: \"red\",\n    borderRadius: \"8px\"\n  };\n  let cont = {\n    width: \"30%\",\n    position: \"relative\",\n    left: \"460px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: cont,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: clickfn,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          style: xstylec,\n          onChange: e => {\n            e.preventDefault();\n            const oldPassword = e.target.value;\n            setoldpasword(oldPassword);\n          },\n          type: \"password\",\n          placeholder: \"Current Password\",\n          value: oldpassword,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: xstylec,\n          onChange: e => {\n            e.preventDefault();\n            const newPassword = e.target.value;\n            setnewpasword(newPassword);\n          },\n          type: \"password\",\n          placeholder: \"New Password\",\n          value: newpassword,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Re-enter your new password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: xstylec,\n          onChange: e => {\n            e.preventDefault();\n            const newconfpassword = e.target.value;\n            setnewconfpassword(newconfpassword);\n          },\n          type: \"password\",\n          placeholder: \"New Password\",\n          value: newconfpassword,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: xstylec,\n          type: \"submit\",\n          children: \"Change\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: xstyler,\n          onClick: () => navigate('/dashboard'),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 13\n  }, this);\n}\n\n_s(ChangePassword, \"IY0ijhPTiC5de/rY2rXoGvac07k=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = ChangePassword;\nexport default ChangePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["React","Component","useState","axios","useDispatch","useSelector","Navigate","useNavigate","selectUser","ChangePassword","navigate","oldpassword","setoldpasword","newpassword","setnewpasword","newconfpassword","setnewconfpassword","user","clickfn","e","preventDefault","alert","post","password","new_password","headers","verifytoken","then","response","data","catch","error","console","log","status","request","message","config","xstylec","borderRadius","xstyler","backgroundColor","cont","width","position","left","oldPassword","target","value","newPassword"],"sources":["/Users/siddharthvudikavalasa/final/react/src/ChangePassword.js"],"sourcesContent":["import React, { Component } from 'react';\nimport \"./styles.css\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { selectUser } from \"./features/userSlice\";\n\nfunction ChangePassword() {\n    let navigate = useNavigate();\n    const [oldpassword, setoldpasword] = useState('');\n    const [newpassword, setnewpasword] = useState('');\n    const [newconfpassword, setnewconfpassword] = useState('');\n    const user = useSelector(selectUser);\n    function clickfn(e) {\n        e.preventDefault();\n        if (oldpassword === newpassword) { alert('Your new password should be different from old password'); }\n        else if (newconfpassword !== newpassword) { alert(\"New Passwords should match\"); }\n        else {\n            axios.post('http://localhost:8000/password/change', {\n                password: oldpassword,\n                new_password: newpassword\n            }, {\n                headers:\n                {\n                    'Authorization': \"Bearer\" + user.verifytoken\n                }\n            })\n                .then(function (response) {\n                    if (response.data[0] === 'Your password has been successfully changed') {\n                        alert(\"Your password has been changed.\");\n                        navigate('/login');\n                    }\n                })\n                .catch((error) => {\n                    if (error.response) {\n                        if (error.response.data[0] === 'Incorrect current password') {\n                            alert(\"Old Password is incorrect\");\n                        }\n                        console.log(error.response.status);\n                        console.log(error.response.headers);\n                    } else if (error.request) {\n                        console.log(error.request);\n                    } else {\n                        console.log('Error', error.message);\n                    }\n                    console.log(error.config);\n                });\n        }\n    }\n    let xstylec = {\n        borderRadius: \"8px\"\n    };\n    let xstyler = {\n        backgroundColor: \"red\",\n        borderRadius: \"8px\"\n    };\n    let cont = {\n        width: \"30%\",\n        position: \"relative\",\n        left: \"460px\"\n    };\n    return (<div>\n        <div style={cont}>\n            <h1>Change Password</h1>\n            <form onSubmit={clickfn}>\n                <input style={xstylec} onChange={(e) => { e.preventDefault(); const oldPassword = e.target.value; setoldpasword(oldPassword); }} type=\"password\" placeholder=\"Current Password\" value={oldpassword} required></input>\n                <input style={xstylec} onChange={(e) => { e.preventDefault(); const newPassword = e.target.value; setnewpasword(newPassword); }} type=\"password\" placeholder=\"New Password\" value={newpassword} required></input>\n                <label>Re-enter your new password</label>\n                <input style={xstylec} onChange={(e) => { e.preventDefault(); const newconfpassword = e.target.value; setnewconfpassword(newconfpassword); }} type=\"password\" placeholder=\"New Password\" value={newconfpassword} required></input>\n                <button style={xstylec} type=\"submit\">Change</button>\n                <button style={xstyler} onClick={() => navigate('/dashboard')} >Cancel</button>\n            </form>\n        </div>\n    </div>\n    )\n}\nexport default ChangePassword"],"mappings":"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"},"metadata":{},"sourceType":"module"}