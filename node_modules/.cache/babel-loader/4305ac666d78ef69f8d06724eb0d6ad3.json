{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthvudikavalasa/final/react/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, selectUser } from \"./features/userSlice\";\nimport { login } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [useremail, setemail] = useState('');\n  const [userpassword, setpassword] = useState('');\n  const [load, setload] = useState(false);\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  useEffect(() => {\n    console.log(user);\n\n    if (user && user.loggedIn) {\n      navigate('/dashboard');\n      console.log(user, user.loggedIn);\n    }\n  }, []);\n\n  function clickfn(e) {\n    e.preventDefault();\n    setload(true);\n    axios.post('http://localhost:8000/api/users/login', {\n      email: useremail,\n      password: userpassword\n    }).then(function (response) {\n      setload(false);\n      dispatch(login({\n        userid: response.data.user.id,\n        name: response.data.user.name,\n        email: useremail,\n        password: userpassword,\n        loggedIn: true,\n        emailverification: true,\n        email_verified_at: response.data.user.email_verified_at,\n        role: response.data.user.role,\n        verifytoken: response.data.access_token\n      }));\n\n      if (response.data.user.email_verified_at !== null) {\n        navigate('/dashboard');\n      } else {\n        navigate('/emailverification');\n      }\n\n      ;\n    }).catch(error => {\n      setload(false);\n\n      if (error.response) {\n        if (error.response.data.error == 'Unauthorized') alert(\"Invalid Email or Password\");\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  }\n\n  let xstyle = {\n    borderRadius: \"8px\",\n    width: \"120%\"\n  };\n  let forpas = {\n    fontSize: \"13px\"\n  };\n  let formsdiv = {\n    left: \"10px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: formsdiv,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: clickfn,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 64\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: xstyle,\n            onChange: e => {\n              e.preventDefault();\n              const userEmail = e.target.value;\n              setemail(userEmail);\n            },\n            type: \"text\",\n            placeholder: \"Enter your email\",\n            value: useremail,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: xstyle,\n            onChange: e => {\n              e.preventDefault();\n              const userPassword = e.target.value;\n              setpassword(userPassword);\n            },\n            type: \"password\",\n            placeholder: \"Enter your Password\",\n            value: userpassword,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 239\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: forpas,\n            children: [\"Forgot Password ? Click \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/requestpasswordreset\",\n              children: \"here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 71\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: xstyle,\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"TSorY4/w/sepoB42dD/l5E0Z5+U=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Component","Link","useEffect","useState","axios","useDispatch","useSelector","logout","selectUser","login","useNavigate","Login","useremail","setemail","userpassword","setpassword","load","setload","user","dispatch","navigate","console","log","loggedIn","clickfn","e","preventDefault","post","email","password","then","response","userid","data","id","name","emailverification","email_verified_at","role","verifytoken","access_token","catch","error","alert","status","headers","request","message","xstyle","borderRadius","width","forpas","fontSize","formsdiv","left","userEmail","target","value","userPassword"],"sources":["/Users/siddharthvudikavalasa/final/react/src/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, selectUser } from \"./features/userSlice\";\nimport { login } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nfunction Login() {\n    const [useremail, setemail] = useState('')\n    const [userpassword, setpassword] = useState('');\n    const [load, setload] = useState(false);\n    const user = useSelector(selectUser);\n    const dispatch = useDispatch();\n    let navigate = useNavigate();\n    useEffect(() => {\n        console.log(user);\n        if (user && user.loggedIn) {\n            navigate('/dashboard');\n            console.log(user, user.loggedIn);\n        }\n    }, [])\n    function clickfn(e) {\n\n        e.preventDefault();\n        setload(true);\n        axios.post('http://localhost:8000/api/users/login', {\n            email: useremail,\n            password: userpassword,\n        })\n            .then(function (response) {\n                setload(false);\n                dispatch(login({\n                    userid: response.data.user.id,\n                    name: response.data.user.name,\n                    email: useremail,\n                    password: userpassword,\n                    loggedIn: true,\n                    emailverification: true,\n                    email_verified_at: response.data.user.email_verified_at,\n                    role: response.data.user.role,\n                    verifytoken: response.data.access_token,\n                }))\n                if (response.data.user.email_verified_at !== null) { navigate('/dashboard') }\n                else { navigate('/emailverification') };\n            })\n            .catch((error) => {\n                setload(false);\n                if (error.response) {\n                    if (error.response.data.error == 'Unauthorized') alert(\"Invalid Email or Password\");\n                    console.log(error.response.status);\n                    console.log(error.response.headers);\n                } else if (error.request) {\n                    console.log(error.request);\n                } else {\n                    console.log('Error', error.message);\n                }\n\n            });\n\n    }\n    let xstyle = {\n        borderRadius: \"8px\",\n        width: \"120%\"\n    };\n    let forpas = {\n        fontSize: \"13px\"\n    };\n    let formsdiv = {\n        left: \"10px\"\n    };\nreturn (\n    <div className=\"container\">\n        {load ? (\n            <div className=\"loader-container\">\n                <div className=\"spinner\"></div>\n            </div>\n        ) : (\n            <div>\n                <img src=\"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png\" />\n                <div style={formsdiv}>\n                    <form onSubmit={clickfn}>\n                            <label><b>Email Address</b></label><br />\n                            <input style={xstyle} onChange={(e) => { e.preventDefault(); const userEmail = e.target.value; setemail(userEmail); }} type=\"text\" placeholder=\"Enter your email\" value={useremail} required />\n                            <br />\n                            <label><b>Password</b></label><br />\n                            <input style={xstyle} onChange={(e) => { e.preventDefault(); const userPassword = e.target.value; setpassword(userPassword); }} type=\"password\" placeholder=\"Enter your Password\" value={userpassword} required /><br />\n                            <p style={forpas}>Forgot Password ? Click <Link to=\"/requestpasswordreset\" >here</Link></p>\n                            <button style={xstyle} type=\"submit\">Login</button>\n                    </form>\n                </div>\n\n            </div>\n        )}\n    </div>\n)\n}\nexport default Login;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,cAAP;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,sBAAnC;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AACA,SAASC,KAAT,GAAiB;EAAA;;EACb,MAAM,CAACC,SAAD,EAAYC,QAAZ,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACW,YAAD,EAAeC,WAAf,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAMe,IAAI,GAAGZ,WAAW,CAACE,UAAD,CAAxB;EACA,MAAMW,QAAQ,GAAGd,WAAW,EAA5B;EACA,IAAIe,QAAQ,GAAGV,WAAW,EAA1B;EACAR,SAAS,CAAC,MAAM;IACZmB,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;IACA,IAAIA,IAAI,IAAIA,IAAI,CAACK,QAAjB,EAA2B;MACvBH,QAAQ,CAAC,YAAD,CAAR;MACAC,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBA,IAAI,CAACK,QAAvB;IACH;EACJ,CANQ,EAMN,EANM,CAAT;;EAOA,SAASC,OAAT,CAAiBC,CAAjB,EAAoB;IAEhBA,CAAC,CAACC,cAAF;IACAT,OAAO,CAAC,IAAD,CAAP;IACAb,KAAK,CAACuB,IAAN,CAAW,uCAAX,EAAoD;MAChDC,KAAK,EAAEhB,SADyC;MAEhDiB,QAAQ,EAAEf;IAFsC,CAApD,EAIKgB,IAJL,CAIU,UAAUC,QAAV,EAAoB;MACtBd,OAAO,CAAC,KAAD,CAAP;MACAE,QAAQ,CAACV,KAAK,CAAC;QACXuB,MAAM,EAAED,QAAQ,CAACE,IAAT,CAAcf,IAAd,CAAmBgB,EADhB;QAEXC,IAAI,EAAEJ,QAAQ,CAACE,IAAT,CAAcf,IAAd,CAAmBiB,IAFd;QAGXP,KAAK,EAAEhB,SAHI;QAIXiB,QAAQ,EAAEf,YAJC;QAKXS,QAAQ,EAAE,IALC;QAMXa,iBAAiB,EAAE,IANR;QAOXC,iBAAiB,EAAEN,QAAQ,CAACE,IAAT,CAAcf,IAAd,CAAmBmB,iBAP3B;QAQXC,IAAI,EAAEP,QAAQ,CAACE,IAAT,CAAcf,IAAd,CAAmBoB,IARd;QASXC,WAAW,EAAER,QAAQ,CAACE,IAAT,CAAcO;MAThB,CAAD,CAAN,CAAR;;MAWA,IAAIT,QAAQ,CAACE,IAAT,CAAcf,IAAd,CAAmBmB,iBAAnB,KAAyC,IAA7C,EAAmD;QAAEjB,QAAQ,CAAC,YAAD,CAAR;MAAwB,CAA7E,MACK;QAAEA,QAAQ,CAAC,oBAAD,CAAR;MAAgC;;MAAA;IAC1C,CAnBL,EAoBKqB,KApBL,CAoBYC,KAAD,IAAW;MACdzB,OAAO,CAAC,KAAD,CAAP;;MACA,IAAIyB,KAAK,CAACX,QAAV,EAAoB;QAChB,IAAIW,KAAK,CAACX,QAAN,CAAeE,IAAf,CAAoBS,KAApB,IAA6B,cAAjC,EAAiDC,KAAK,CAAC,2BAAD,CAAL;QACjDtB,OAAO,CAACC,GAAR,CAAYoB,KAAK,CAACX,QAAN,CAAea,MAA3B;QACAvB,OAAO,CAACC,GAAR,CAAYoB,KAAK,CAACX,QAAN,CAAec,OAA3B;MACH,CAJD,MAIO,IAAIH,KAAK,CAACI,OAAV,EAAmB;QACtBzB,OAAO,CAACC,GAAR,CAAYoB,KAAK,CAACI,OAAlB;MACH,CAFM,MAEA;QACHzB,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBoB,KAAK,CAACK,OAA3B;MACH;IAEJ,CAhCL;EAkCH;;EACD,IAAIC,MAAM,GAAG;IACTC,YAAY,EAAE,KADL;IAETC,KAAK,EAAE;EAFE,CAAb;EAIA,IAAIC,MAAM,GAAG;IACTC,QAAQ,EAAE;EADD,CAAb;EAGA,IAAIC,QAAQ,GAAG;IACXC,IAAI,EAAE;EADK,CAAf;EAGJ,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,UACKtC,IAAI,gBACD;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACI;QAAK,SAAS,EAAC;MAAf;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADC,gBAKD;MAAA,wBACI;QAAK,GAAG,EAAC;MAAT;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAK,KAAK,EAAEqC,QAAZ;QAAA,uBACI;UAAM,QAAQ,EAAE7B,OAAhB;UAAA,wBACQ;YAAA,uBAAO;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UAAP;YAAA;YAAA;YAAA;UAAA,QADR,eAC2C;YAAA;YAAA;YAAA;UAAA,QAD3C,eAEQ;YAAO,KAAK,EAAEwB,MAAd;YAAsB,QAAQ,EAAGvB,CAAD,IAAO;cAAEA,CAAC,CAACC,cAAF;cAAoB,MAAM6B,SAAS,GAAG9B,CAAC,CAAC+B,MAAF,CAASC,KAA3B;cAAkC5C,QAAQ,CAAC0C,SAAD,CAAR;YAAsB,CAArH;YAAuH,IAAI,EAAC,MAA5H;YAAmI,WAAW,EAAC,kBAA/I;YAAkK,KAAK,EAAE3C,SAAzK;YAAoL,QAAQ;UAA5L;YAAA;YAAA;YAAA;UAAA,QAFR,eAGQ;YAAA;YAAA;YAAA;UAAA,QAHR,eAIQ;YAAA,uBAAO;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UAAP;YAAA;YAAA;YAAA;UAAA,QAJR,eAIsC;YAAA;YAAA;YAAA;UAAA,QAJtC,eAKQ;YAAO,KAAK,EAAEoC,MAAd;YAAsB,QAAQ,EAAGvB,CAAD,IAAO;cAAEA,CAAC,CAACC,cAAF;cAAoB,MAAMgC,YAAY,GAAGjC,CAAC,CAAC+B,MAAF,CAASC,KAA9B;cAAqC1C,WAAW,CAAC2C,YAAD,CAAX;YAA4B,CAA9H;YAAgI,IAAI,EAAC,UAArI;YAAgJ,WAAW,EAAC,qBAA5J;YAAkL,KAAK,EAAE5C,YAAzL;YAAuM,QAAQ;UAA/M;YAAA;YAAA;YAAA;UAAA,QALR,eAK0N;YAAA;YAAA;YAAA;UAAA,QAL1N,eAMQ;YAAG,KAAK,EAAEqC,MAAV;YAAA,oDAA0C,QAAC,IAAD;cAAM,EAAE,EAAC,uBAAT;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAA1C;UAAA;YAAA;YAAA;YAAA;UAAA,QANR,eAOQ;YAAQ,KAAK,EAAEH,MAAf;YAAuB,IAAI,EAAC,QAA5B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAPR;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA;EANR;IAAA;IAAA;IAAA;EAAA,QADJ;AAyBC;;GAxFQrC,K;UAIQL,W,EACID,W,EACFK,W;;;KANVC,K;AAyFT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}