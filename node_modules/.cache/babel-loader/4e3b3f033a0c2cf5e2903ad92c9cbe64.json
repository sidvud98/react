{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthvudikavalasa/final/react/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login, logout, selectUser } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [useremail, setemail] = useState('');\n  const [userpassword, setpassword] = useState('');\n  const [load, setload] = useState(false);\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  useEffect(() => {\n    console.log(user);\n\n    if (user && user.loggedIn) {\n      navigate('/dashboard');\n      console.log(user, user.loggedIn);\n    }\n  }, []);\n\n  function clickfn(e) {\n    e.preventDefault();\n    setload(true);\n    axios.post('http://localhost:8000/api/users/login', {\n      email: useremail,\n      password: userpassword\n    }).then(function (response) {\n      setload(false);\n      dispatch(login({\n        userid: response.data.user.id,\n        name: response.data.user.name,\n        email: useremail,\n        password: userpassword,\n        loggedIn: true,\n        emailverification: true,\n        email_verified_at: response.data.user.email_verified_at,\n        role: response.data.user.role,\n        verifytoken: response.data.access_token\n      }));\n      localStorage.setItem('user', JSON.stringify(response.data));\n\n      if (response.data.user.email_verified_at !== null) {\n        navigate('/dashboard');\n      } else {\n        navigate('/emailverification');\n      }\n\n      ;\n    }).catch(error => {\n      setload(false);\n\n      if (error.response) {\n        if (error.response.data.error == 'Unauthorized') alert(\"Invalid Email or Password\");\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  }\n\n  let xstyle = {\n    borderRadius: \"8px\",\n    width: \"85%\"\n  };\n  let forpas = {\n    fontSize: \"13px\"\n  };\n  let formsdiv = {\n    position: \"relative\",\n    top: \"20px\",\n    left: \"30px\",\n    width: \"100%\" // margin: \"50px\"\n\n  };\n  let wrapsty = {\n    width: \"30%\",\n    height: \"400px\",\n    borderRadius: \"9px\",\n    boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    position: \"relative\",\n    left: \"450px\" // top: \"120px\"\n\n  };\n  let pic = {\n    position: \"relative\",\n    // top: \"-100px\",\n    left: \"20px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: wrapsty,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: formsdiv,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: pic,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: clickfn,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 64\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: xstyle,\n            onChange: e => {\n              e.preventDefault();\n              const userEmail = e.target.value;\n              setemail(userEmail);\n            },\n            type: \"text\",\n            placeholder: \"Enter your email\",\n            value: useremail,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: xstyle,\n            onChange: e => {\n              e.preventDefault();\n              const userPassword = e.target.value;\n              setpassword(userPassword);\n            },\n            type: \"password\",\n            placeholder: \"Enter your Password\",\n            value: userpassword,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 239\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: forpas,\n            children: [\"Forgot Password ? Click \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/requestpasswordreset\",\n              children: \"here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 71\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: xstyle,\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"TSorY4/w/sepoB42dD/l5E0Z5+U=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Component","Link","useEffect","useState","axios","useDispatch","useSelector","login","logout","selectUser","useNavigate","Login","useremail","setemail","userpassword","setpassword","load","setload","user","dispatch","navigate","console","log","loggedIn","clickfn","e","preventDefault","post","email","password","then","response","userid","data","id","name","emailverification","email_verified_at","role","verifytoken","access_token","localStorage","setItem","JSON","stringify","catch","error","alert","status","headers","request","message","xstyle","borderRadius","width","forpas","fontSize","formsdiv","position","top","left","wrapsty","height","boxShadow","pic","userEmail","target","value","userPassword"],"sources":["/Users/siddharthvudikavalasa/final/react/src/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./styles.css\";\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login, logout, selectUser } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nfunction Login() {\n    const [useremail, setemail] = useState('')\n    const [userpassword, setpassword] = useState('');\n    const [load, setload] = useState(false);\n    const user = useSelector(selectUser);\n    const dispatch = useDispatch();\n    let navigate = useNavigate();\n    useEffect(() => {\n        console.log(user);\n        if (user && user.loggedIn) {\n            navigate('/dashboard');\n            console.log(user, user.loggedIn);\n        }\n    }, [])\n    function clickfn(e) {\n        e.preventDefault();\n        setload(true);\n        axios.post('http://localhost:8000/api/users/login', {\n            email: useremail,\n            password: userpassword,\n        })\n            .then(function (response) {\n                setload(false);\n                dispatch(login({\n                    userid: response.data.user.id,\n                    name: response.data.user.name,\n                    email: useremail,\n                    password: userpassword,\n                    loggedIn: true,\n                    emailverification: true,\n                    email_verified_at: response.data.user.email_verified_at,\n                    role: response.data.user.role,\n                    verifytoken: response.data.access_token,\n                }))\n                localStorage.setItem('user', JSON.stringify(response.data));\n                if (response.data.user.email_verified_at !== null) { navigate('/dashboard') }\n                else { navigate('/emailverification') };\n            })\n            .catch((error) => {\n                setload(false);\n                if (error.response) {\n                    if (error.response.data.error == 'Unauthorized') alert(\"Invalid Email or Password\");\n                    console.log(error.response.status);\n                    console.log(error.response.headers);\n                } else if (error.request) {\n                    console.log(error.request);\n                } else {\n                    console.log('Error', error.message);\n                }\n            });\n    }\n    let xstyle = {\n        borderRadius: \"8px\",\n        width: \"85%\"\n    };\n    let forpas = {\n        fontSize: \"13px\"\n    };\n    let formsdiv = {\n        position: \"relative\",\n        top: \"20px\",\n        left: \"30px\",\n        width: \"100%\"\n        // margin: \"50px\"\n    };\n    let wrapsty = {\n        width: \"30%\",\n        height: \"400px\",\n        borderRadius: \"9px\",\n        boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        position: \"relative\",\n        left: \"450px\",\n        // top: \"120px\"\n    };\n    let pic = {\n        position: \"relative\",\n        // top: \"-100px\",\n        left: \"20px\"\n    };\n    return (\n        <div className=\"container\">\n            {load ? (\n                <div className=\"loader-container\">\n                    <div className=\"spinner\"></div>\n                </div>\n            ) : (\n                <div style={wrapsty}>\n                    <div style={formsdiv}>\n                        <div style={pic}>\n                            <img src=\"https://www.freeiconspng.com/thumbs/login-icon/user-login-icon-14.png\" />\n                        </div>\n                        <form onSubmit={clickfn}>\n                            <label><b>Email Address</b></label><br />\n                            <input style={xstyle} onChange={(e) => { e.preventDefault(); const userEmail = e.target.value; setemail(userEmail); }} type=\"text\" placeholder=\"Enter your email\" value={useremail} required />\n                            <br />\n                            <label><b>Password</b></label><br />\n                            <input style={xstyle} onChange={(e) => { e.preventDefault(); const userPassword = e.target.value; setpassword(userPassword); }} type=\"password\" placeholder=\"Enter your Password\" value={userpassword} required /><br />\n                            <p style={forpas}>Forgot Password ? Click <Link to=\"/requestpasswordreset\" >here</Link></p>\n                            <button style={xstyle} type=\"submit\">Login</button>\n                        </form>\n                    </div>\n\n                </div>\n            )}\n        </div>\n    )\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}