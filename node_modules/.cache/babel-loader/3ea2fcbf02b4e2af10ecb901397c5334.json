{"ast":null,"code":"var _jsxFileName = \"/Users/siddharthvudikavalasa/final/react/src/ChangePassword.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport \"./styles.css\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { selectUser } from \"./features/userSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChangePassword() {\n  _s();\n\n  let navigate = useNavigate();\n  const [oldpassword, setoldpasword] = useState('');\n  const [newpassword, setnewpasword] = useState('');\n  const [newwpassword, setnewwpassword] = useState('');\n  const user = useSelector(selectUser);\n\n  function clickfn(e) {\n    e.preventDefault();\n\n    if (oldpassword === newpassword) {\n      alert('Your new password should be different from old password');\n    } else if (newwpassword !== newpassword) {\n      alert(\"New Passwords should match\");\n    } else {\n      axios.post('http://localhost:8000/password/change', {\n        password: oldpassword,\n        new_password: newpassword\n      }, {\n        headers: {\n          'Authorization': \"Bearer\" + user.verifytoken\n        }\n      }).then(function (response) {\n        if (response.data[0] === 'Your password has been successfully changed') {\n          alert(\"Your password has been successfully changed. Login with the new password\");\n          navigate('/login');\n        }\n      }).catch(error => {\n        if (error.response) {\n          if (error.response.data[0] === 'Incorrect current password') {\n            alert(\"Old Password is incorrect\");\n          }\n\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          console.log(error.request);\n        } else {\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n      });\n    }\n  }\n\n  let xstylec = {\n    borderRadius: \"8px\"\n  };\n  let xstyler = {\n    backgroundColor: \"red\",\n    borderRadius: \"8px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Change Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: clickfn,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: xstylec,\n        onChange: e => {\n          e.preventDefault();\n          const oldPassword = e.target.value;\n          setoldpasword(oldPassword);\n        },\n        type: \"password\",\n        placeholder: \"Current Password\",\n        value: oldpassword,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          e.preventDefault();\n          const newPassword = e.target.value;\n          setnewpasword(newPassword);\n        },\n        type: \"password\",\n        placeholder: \"New Password\",\n        value: newpassword,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Re-enter your new password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          e.preventDefault();\n          const newwPassword = e.target.value;\n          setnewwpassword(newwPassword);\n        },\n        type: \"password\",\n        placeholder: \"New Password\",\n        value: newwpassword,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: xstylec,\n        type: \"submit\",\n        children: \"Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: xstyler,\n        onClick: () => navigate('/dashboard'),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 13\n  }, this);\n}\n\n_s(ChangePassword, \"R1BvpuJeXHH5U+NAi4+LCYPGgDw=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = ChangePassword;\nexport default ChangePassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["React","Component","useState","axios","useDispatch","useSelector","Navigate","useNavigate","selectUser","ChangePassword","navigate","oldpassword","setoldpasword","newpassword","setnewpasword","newwpassword","setnewwpassword","user","clickfn","e","preventDefault","alert","post","password","new_password","headers","verifytoken","then","response","data","catch","error","console","log","status","request","message","config","xstylec","borderRadius","xstyler","backgroundColor","oldPassword","target","value","newPassword","newwPassword"],"sources":["/Users/siddharthvudikavalasa/final/react/src/ChangePassword.js"],"sourcesContent":["import React, { Component }  from 'react';\nimport \"./styles.css\";\nimport {useState} from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { selectUser } from \"./features/userSlice\";\n\nfunction ChangePassword() {\n\n    let navigate = useNavigate();\n    const [oldpassword,setoldpasword]=useState('');\n    const [newpassword,setnewpasword]=useState('');\n    const [newwpassword,setnewwpassword]=useState('');\n    const user = useSelector(selectUser);\n    function clickfn(e){\n        e.preventDefault();\n        if(oldpassword===newpassword){alert('Your new password should be different from old password');}\n        else if(newwpassword!==newpassword) {alert(\"New Passwords should match\");}\n        else{\n            axios.post('http://localhost:8000/password/change',{\n                password:oldpassword,\n                new_password:newpassword\n            },{headers:\n                {\n                    'Authorization':\"Bearer\"+ user.verifytoken\n                }})\n            .then(function (response){\n                if(response.data[0]==='Your password has been successfully changed'){\n                    alert(\"Your password has been successfully changed. Login with the new password\");\n                    navigate('/login');\n                }\n            })\n            .catch((error) => {\n                if (error.response) {\n                    if(error.response.data[0]==='Incorrect current password'){\n                        alert(\"Old Password is incorrect\");\n                    }\n                    console.log(error.response.status);\n                    console.log(error.response.headers);\n                } else if (error.request) {\n                    console.log(error.request);\n                } else {\n                    console.log('Error', error.message);\n                }\n                console.log(error.config);\n            });\n        }\n    }\n    let xstylec = {\n        borderRadius: \"8px\"\n    };\n    let xstyler = {\n        backgroundColor: \"red\",\n        borderRadius: \"8px\"\n    };\n    return (<div>\n        <h1>Change Password</h1>\n        <form onSubmit={clickfn }>\n        <input style={xstylec} onChange={(e)=>{e.preventDefault();const oldPassword=e.target.value;setoldpasword(oldPassword);}} type=\"password\" placeholder=\"Current Password\" value={oldpassword} required></input>\n        <input onChange={(e)=>{e.preventDefault();const newPassword=e.target.value;setnewpasword(newPassword);}} type=\"password\" placeholder=\"New Password\" value={newpassword} required></input>\n        <label>Re-enter your new password</label>\n        <input onChange={(e)=>{e.preventDefault();const newwPassword=e.target.value;setnewwpassword(newwPassword);}} type=\"password\" placeholder=\"New Password\" value={newwpassword} required></input>\n        <button style={xstylec} type=\"submit\">Change</button>\n        <button style={xstyler} onClick={()=>navigate('/dashboard')} >Cancel</button>\n        </form>\n        \n         </div>\n    )\n}\nexport default ChangePassword"],"mappings":"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"},"metadata":{},"sourceType":"module"}