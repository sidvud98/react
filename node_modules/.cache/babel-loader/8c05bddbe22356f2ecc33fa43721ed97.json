{"ast":null,"code":"import _slicedToArray from \"/Users/siddharthvudikavalasa/final/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/siddharthvudikavalasa/final/react/src/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, selectUser } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { login } from \"./features/userSlice\";\n\nfunction Dashboard() {\n  var dispatch = useDispatch();\n  var user = useSelector(selectUser);\n  var navigate = useNavigate();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      want_to_edit = _useState2[0],\n      setwant_to_edit = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setname = _useState4[1];\n\n  var loggout = function loggout(e) {\n    dispatch(logout());\n    navigate('/login');\n  };\n\n  function deleteacc(e) {\n    e.preventDefault();\n    axios.delete('http://localhost:8000/api/users/' + user.userid, {}, {\n      headers: {\n        'Authorization': \"Bearer \" + user.verifytoken\n      }\n    }).then(function (response) {\n      alert(\"Your account has been deleted succesfully\");\n      dispatch(logout());\n      navigate('/login');\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    });\n  }\n\n  function clickfnfn(e) {\n    e.preventDefault();\n    axios.put('http://localhost:8000/api/users/' + user.userid, {\n      name: username\n    }).then(function (response) {\n      dispatch(login({\n        id: user.userid,\n        name: username,\n        email_verified_at: user.email_verified_at,\n        loggedIn: true,\n        role: user.role,\n        email: user.email\n      }));\n      setwant_to_edit(function (prev) {\n        return !prev;\n      });\n      navigate('/dashboard');\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"dashboard\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 1\n    }\n  }, want_to_edit ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Name: \", user.name, \" \", user.userid) : /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      e.preventDefault();\n      var userName = e.target.value;\n      setname(userName);\n    },\n    placeholder: \"Enter your new Name\",\n    value: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 3\n    }\n  }, \"Email :  \", user.email, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }, \"Email verified at: \", user.email_verified_at), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 3\n    }\n  }, \"Role: \", user.role)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 1\n    }\n  }, want_to_edit ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      setwant_to_edit(!want_to_edit);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"Edit\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      setwant_to_edit(!want_to_edit);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 53\n    }\n  }, \"Back\"), want_to_edit ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"passwordchangebtn\",\n    onClick: function onClick() {\n      navigate('/password/change');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, \"Change Password\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clickfnfn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 124\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    onClick: function onClick(e) {\n      return loggout(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 1\n    }\n  }, \"Log out\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btnn\",\n    onClick: deleteacc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 1\n    }\n  }, \"Delete Account\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btnnn\",\n    onClick: function onClick(e) {\n      navigate('/getallusers');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 1\n    }\n  }, \"All Users\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btnnnn\",\n    onClick: function onClick(e) {\n      navigate('/gettasks');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 1\n    }\n  }, \"My Tasks\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btnnnnn\",\n    onClick: function onClick(e) {\n      navigate('/create/task');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 1\n    }\n  }, \"Create Task\"));\n}\n\nexport default Dashboard;","map":{"version":3,"names":["React","Component","useDispatch","useSelector","logout","selectUser","useNavigate","useState","axios","login","Dashboard","dispatch","user","navigate","want_to_edit","setwant_to_edit","username","setname","loggout","e","deleteacc","preventDefault","delete","userid","headers","verifytoken","then","response","alert","catch","error","console","log","data","status","request","message","config","clickfnfn","put","name","id","email_verified_at","loggedIn","role","email","prev","userName","target","value"],"sources":["/Users/siddharthvudikavalasa/final/react/src/Dashboard.js"],"sourcesContent":["import React, { Component }  from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, selectUser } from \"./features/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport {useState} from 'react';\nimport axios from 'axios';\nimport {login} from \"./features/userSlice\";\nfunction Dashboard(){\n    const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  let navigate = useNavigate();\n  const [want_to_edit,setwant_to_edit]=useState(true);\n    const [username,setname]=useState('');\n  const loggout = (e) => {\n    dispatch(logout());\n    navigate('/login');\n  };\n  function deleteacc(e){\n    e.preventDefault();\n    axios.delete('http://localhost:8000/api/users/'+user.userid,{},{\n      headers:\n            {\n                'Authorization':\"Bearer \"+ user.verifytoken\n            }\n    })\n            .then(function (response) { \n              alert(\"Your account has been deleted succesfully\")\n               dispatch(logout());\n               navigate('/login');\n      })\n      .catch((error) => {\n        if (error.response) {\n            console.log(error.response.data);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n        } else if (error.request) {\n            console.log(error.request);\n        } else {\n            console.log('Error', error.message);\n        }\n        console.log(error.config);\n    });\n  }\n  function clickfnfn(e){\n    e.preventDefault();\n    axios.put('http://localhost:8000/api/users/'+user.userid,{\n      name:username,\n            })\n            .then(function (response) {\n            dispatch(login({\n              id:user.userid,\n                name:username,\n                email_verified_at:user.email_verified_at,\n                loggedIn:true,\n                role:user.role,\n                email:user.email\n            }))    \n            setwant_to_edit((prev)=>!prev);\n      navigate('/dashboard');\n      })\n      .catch((error) => {\n        if (error.response) {\n            console.log(error.response.data);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n        } else if (error.request) {\n            console.log(error.request);\n        } else {\n            console.log('Error', error.message);\n        }\n        console.log(error.config);\n    });\n    \n  }\n    return(\n        <div>\n          <div className=\"item\">\n          <img  className=\"dashboard\" src=\"https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png\" />\n</div>\n<div>\n  {want_to_edit?<p>Name: {user.name} {user.userid}</p>:<input type=\"text\" onChange={(e)=>{e.preventDefault();const userName=e.target.value;setname(userName);}} placeholder=\"Enter your new Name\"  value={username}></input>}\n  <p>Email :  {user.email} </p>\n  <p>Email verified at: {user.email_verified_at}</p>\n  <p>Role: {user.role}</p>\n</div>\n<div  className=\"btn-group\">\n{want_to_edit?<button onClick={(e)=>{e.preventDefault();\n    setwant_to_edit(!want_to_edit)}} >Edit</button>:<button onClick={(e)=>{e.preventDefault();\n    setwant_to_edit(!want_to_edit)}} >Back</button>}\n{want_to_edit?<button className=\"passwordchangebtn\" onClick={()=>{navigate('/password/change')}} >Change Password</button>:<button onClick={clickfnfn} >Save</button>}\n\n</div>\n<button className=\"btn\"  onClick={(e) => loggout(e)}>Log out</button> \n<button className=\"btnn\" onClick={deleteacc} >Delete Account</button>\n<button className=\"btnnn\" onClick={(e)=>{navigate('/getallusers')}} >All Users</button>\n<button className=\"btnnnn\" onClick={(e)=>{navigate('/gettasks')}} >My Tasks</button>\n<button className=\"btnnnnn\" onClick={(e)=>{navigate('/create/task')}} >Create Task</button>\n     </div> \n    )\n}\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}